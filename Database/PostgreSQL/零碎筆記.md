### [官方 Document](https://www.postgresql.org/docs/current/index.html)

### 比起 MySQL，PostgreSQL 更貼近 SQL Standard

### GUI: pg admin

---

### 名稱不要用大寫 (camelCase 也不要)

若名稱由多單字組成，應全小寫並以 `_` 連接之。

1. Database name 不要用大寫
2. Schema name 不要用大寫
3. Table name 不要用大寫，否則須下 `<schema_name>."<table_name>"` 才能找到該 table
4. Column name 不要用大寫，否則須下 `<tableName>."<columnName>"` 才能 select 到該 column

---

### 註解

```PostgreSQL
-- 單行註解

/*
多
行
註
解
*/
```

---

### `CHAR(n)` vs. `VARCHAR(n)` vs. `TEXT`

| **Character Types** | **Description** |
|----|----|
| `CHARACTER VARYING(n)`, `VARCHAR(n)` | variable-length with length limit |
| `CHARACTER(n)`, `CHAR(n)` | fixed-length, ==blank padded== |
| `TEXT`, `VARCHAR` | variable unlimited length |

---

### `LIMIT`

`FETCH FIRST n ROWS ONLY` 在 PostgreSQL 可以簡寫為 `LIMIT n`。

---

### 常用資料型態

| Name | Alias | Description |
|---|---|---|
|`bigint`|`int8`|signed eight-byte integer|
|`bigserial`|`serial`|autoincrementing eight-byte integer|
|`bit[(<n>)]`||fixed-length bit string|
|`bit varing[(<n>)]`|`varbit[(<n>)]`|variable-length bit string|
|`boolean`|`bool`|logical Boolean (true/false)|
|`character[(<n>)]`|`char[(<n>)]`|fixed-length character string|
|`character varing[(<n>)]`|`varchar[(<n>)]`|variable-length character string|
|`date`||calendar date (year, month, day)|
|`double precision`|`float8`|double precision floating-point number (8 bytes)|
|`integer`|`int`, `int4`|signed four-byte integer|
|`interval [<f>] [(<p>)]`||time span|
|`json`||textual JSON data|
|`jsonb`||binary JSON data, decomposed|
|`numeric[(<p>, <s>)]`|`decimal[(<p>, <s>)]`|exact numeric of selectable precision|
|`real`|`float4`|single precision floating-point number (4 bytes)|
|`smallint`|`int2`|signed two-byte integer|
|`smallserial`|`serial2`|autoincrementing two-byte integer|
|`serial`|`serial4`|autoincrementing four-byte integer|
|`text`||variable-length character string|
|`time[(<p>)] [without time zone]`||time of day (no time zone)|
|`time[(<p>)] with time zone`|`timetz`|time of day, including time zone|
|`timestamp[(<p>)] [without time zone]`||date and time (no time zone)|
|`timestamp[(<p>)] with time zone`|`timestamptz`|date and time, including time zone|
|`uuid`||universally unique identifier|
|`xml`||XML data|

這裡只列出常用的，欲了解所有資料型態，請見[官方文件](https://www.postgresql.org/docs/current/datatype.html)。

---

### 自定義資料型態

舉例：

```PostgreSQL
CREATE TYPE gender_type AS ENUM ('M', 'F');
```

將 column `gender` 的資料型態改成自定義的型態 `gender_type`：

```PostgreSQL
ALTER TABLE customer
ALTER COLUMN gender TYPE gender_type USING gender::gender_type;
```

---

### 判斷是否為 `null`

在 PostgreSQL 中，欲判斷某欄位是否為 `null` 時，正確的方式是 `WHERE xxx IS NULL` 或 `WHERE xxx IS NOT NULL`，不能使用 `= NULL` 或 `<> NULL` 來判斷。

---
