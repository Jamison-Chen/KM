講到檔案傳輸或許大家第一個冒出的名詞就是 FTP，FTP 確實是專門用來傳送檔案的網路協定，但其實除了它之外還有很多協定都可以用來傳輸檔案，比如我們每天都在用的 HTTP/HTTPS，還有 SSH 世界中的 SCP。

# FTP

FTP 是 File Transfer Protocol 的縮寫，是專門用來傳送檔案的網路協定，雖說使用 HTTP/HTTPS 也可以傳送檔案，但當要傳送的檔案很大時，FTP 會比較快，主要是因為 FTP 的 。

# SCP

SCP 是 Secure Copy Protocol 的縮寫。SCP 是 SSH 內建的功能，所以使用 SCP 的前置作業相對較其它人少，只要 server 與 client 都有安裝 Open SSH 就可以使用（通常電腦都會安裝 Open SSH）。

一般而言，SCP 傳送檔案的速度較其他 protocol 快，因為 SCP 的設計相對簡單（但它沒有因此犧牲安全性）。

使用 `scp` 前**不**需要先使用 `ssh` 進行連線，連線指令已經包在 `scp` 裡面了，command pattern 與 `cp` 類似：

```bash
scp [OPTION] [USER@[SRC_IP:]]PATH_TO_FILE [USER@]DEST_IP:PATH_TO_FILE
```

### 示範一：將 Client 的檔案複製到 Server

```bash
scp ./test.txt my_user@my_server:./Desktop
```

Source 與 destination 皆可以是相對路徑或絕對路徑，其中 destination 若使用相對路徑，則出發點是指定 user 的 home directory (`~`)。

可以透過另外聲明檔案名稱，來為複製出來的檔案重新命名：

```bash
scp ./test.txt my_user@my_server:./Desktop/copied_test.txt
```

### 示範二：將 Client 的子目錄複製到 Server

```bash
scp -r ./sub_dir my_user@my_server:./Desktop
```

要複製整個 directory 就要使用 `-r` option。

也可以透過另外 declare 附錄名稱為複製出來的目錄重新命名：

```bash
scp -r ./sub_dir my_user@my_server:./Desktop/copied_dir
```

### 示範三：將 Server 中的檔案複製到 Client

```bash
scp my_user@my_server:~/Desktop/test.txt ~/Desktop
```

# SFTP

SFTP 的 S 代表 Secure。SFTP 是建立在 SSH「之上」的協定（不是 SSH 內建的功能）

### SFTP vs. FTPS

FTPS 之於 FTP，就有如 HTTPS 之餘 HTTP，也就是說，FTPS 就是使用 TLS/SSL 加密通道的 FTP，不過這也意味著要使用 FTPS 就要向 CA (Certificate Authority) 申請（購買）憑證，並且設定你的 FTP Server 去使用該憑證。

![[FTPS-vs.-SFTP-1.png]]

# TFTP

#TODO 

# 參考資料

- <https://www.msp360.com/resources/blog/sftp-vs-ftps/>