以文字檔為例，現今的文字檔常見的是以 utf-8 編碼，一個 character 會佔用到 2 bytes 甚至 3 bytes，然而一個 ASCII character 的大小其實只有 1 byte，因此一個 utf-8 編碼文字檔中，ASCII character 的開頭會有很多個 `0`，這樣其實很浪費空間。

而檔案壓縮其實就是透過想辦法把這些 **leading zero** 的空間釋放出來給需要的資料用，進而達到縮小檔案大小的效果。你可以想像一個喝完的鋁罐或鋁箔包，中間是空的，壓扁後體積就縮小了。

壓縮過的檔案無法直接使用，作業系統會不知道如何讀取／寫入／執行它們，因此每一種壓縮方式都會有對應的「解壓縮」，在 Linux 中，不同的壓縮方式壓出來的 file extension 不同，但 file extension 並不會決定檔案本身的性質，僅是方便人類辨識而已。

常見的壓縮方式及 file extension 對應如下：

|壓縮方式|file extension|功能|
|---|---|---|
|compress|`*.Z`|壓縮|
|zip|`*.zip`|壓縮|
|rar|`*.rar`|壓縮|
|gzip|`*.gz`|壓縮|
|tar|`*.tar`|打包|
|tar + gzip|`*.tar.gz`|打包＋壓縮|

# Compress

```bash
compress [<OPTIONS>] <FILE>
```

這個指令壓縮出來的檔案會自動帶上 `.Z` 做為 file extension，且壓縮出來的檔案會直接取代掉原本的檔案，換句話說，原本的檔案壓完後就消失了。

解壓縮可以使用 `compress -d` 或 `uncompress`，使用前者可以不用寫出 `.Z` 這個 file extension；但使用後者則一定要完整地寫出整個檔案名稱。

> [!Note]
>預設情況下，如果系統發現一個檔案被壓縮後的大小不減反增，則會自動放棄壓縮。

### Options

- `-c`：直接在 terminal 印出壓縮後的結果，不將壓縮結果存進檔案
- `-f`：強制壓縮，就算壓縮完後檔案變大也照壓
- `-v`：壓完後印出檔案大小的變化百分比
- `-d`：解壓縮

# 參考資料

- <https://linux.vbird.org/linux_basic/mandrake9/0240tarcompress.php>
